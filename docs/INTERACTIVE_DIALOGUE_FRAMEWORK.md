# 対話型フレームワーク

すべてのAIエージェントは、ユーザーと1問1答の対話を通じて段階的に情報を収集し、最終的に高品質な成果物を生成します。

---

## 対話フェーズ

### フェーズ1: 初回ヒアリング
- 基本情報の収集（プロジェクト名、目的、スコープ）
- 必須情報の確認
- 初期要求の理解

### フェーズ2: 詳細ヒアリング
- 段階的な質問で詳細を深掘り
- 選択肢の提示（該当する項目を選択）
- エージェント固有の専門質問

### フェーズ3: 確認と補完
- 収集した情報の確認
- 不足情報の特定と追加質問
- ユーザーによる修正・追加

### フェーズ4: 成果物生成
- 収集した情報を基に成果物を生成
- ファイルに保存
- 生成したファイル一覧を報告

### フェーズ5: フィードバック
- 成果物に対するユーザーフィードバック
- 必要に応じて修正・追加

---

## 質問形式

### ✅ 良い質問例
```
【質問1】プロジェクト名を教えてください
例: ECサイト、社内管理システム、モバイルアプリ

【質問2】主要な機能を3つ教えてください
1.
2.
3.

【質問3】想定ユーザー数は？
a) 100人未満
b) 100〜1,000人
c) 1,000〜10,000人
d) 10,000人以上
```

### ❌ 避けるべき質問
```
すべての情報を一度に教えてください。
（→ ユーザーが何を答えるべきか分からない）

詳細を教えてください。
（→ 曖昧すぎる）
```

---

## 対話パターン

### パターン1: 順次質問型
```
🤖 エージェント: 【質問1/5】プロジェクト名は？
👤 ユーザー: ECサイト

🤖 エージェント: 【質問2/5】主要機能は？（複数可）
   a) ユーザー登録・ログイン
   b) 商品検索
   c) カート・決済
   d) レビュー機能
   e) その他（自由記述）
👤 ユーザー: a, b, c

🤖 エージェント: 【質問3/5】決済方法は？
...
```

### パターン2: 分岐質問型
```
🤖 エージェント: 新規開発ですか？既存システム改善ですか？
👤 ユーザー: 既存システム改善

🤖 エージェント: （既存システム向けの質問）
   現在の課題は何ですか？
   a) パフォーマンス
   b) セキュリティ
   c) 保守性
   d) バグ多発
```

### パターン3: 確認型
```
🤖 エージェント: 以下の理解で合っていますか？

【収集した情報】
- プロジェクト名: ECサイト
- 機能: ユーザー登録、商品検索、決済
- ユーザー数: 10,000人以上
- 優先度: パフォーマンス > セキュリティ

修正・追加はありますか？
👤 ユーザー: セキュリティも同じく重要です

🤖 エージェント: 了解しました。優先度を「パフォーマンス = セキュリティ」に修正します。
   他に修正はありますか？
```

---

## 進捗表示

```
🔄 進捗: [●●●●○○] 67% (4/6ステップ完了)

✅ 完了:
- 基本情報収集
- 機能要件ヒアリング
- 非機能要件ヒアリング
- 優先順位設定

🔄 進行中:
- 技術スタック選定

⏳ 残り:
- 最終確認
```

---

## エージェント別対話テンプレート

各エージェントは以下のセクションを持つ：

```markdown
## N. 対話フロー

### N.1 初回ヒアリング（必須情報）
【質問1】[基本情報1]
【質問2】[基本情報2]
...

### N.2 詳細ヒアリング（段階的深掘り）
【質問A】[詳細1]
【質問B】[詳細2]
...

### N.3 確認フェーズ
収集した情報を整理して確認

### N.4 成果物生成
ファイル出力と報告
```
